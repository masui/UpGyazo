# coding: utf-8

require './upgyazo'

# .profileにこういうのを書いておく
# export GYAZO_TOKEN=0123456789...

GYAZO_TOKEN=ENV['GYAZO_TOKEN']
exit if GYAZO_TOKEN.nil?
upload = GyazoUpload.new GYAZO_TOKEN

ARGV.each { |arg|
  next unless File.exist?(arg)
  if File.directory?(arg) then
    Find.find(arg).each { |file|
      upload.process file if File.file?(file)
    }
  else
    upload.process arg
  end
}

